:root{
  --felt:#0f5c3b;
  --felt-dark:#0d4d32;
  --felt-light:#12724c;
  --gold:#d8b44a;
  --text:#f3f6f4;
  --muted:#b9c6bf;
  --accent:#2ec27e;
  --danger:#ff5c5c;
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --card-back-url: url("./assets/cards/back.png"); /* החלף לנתיב שלך */
  --transition: .25s ease;
  --btn-disabled: .35;
  font-family: system-ui, "Segoe UI", Arial, sans-serif;
}

*{box-sizing: border-box}
html,body{height:100%;margin:0;background:
 radial-gradient(ellipse at 30% 20%, #12593b 0, var(--felt) 35%, var(--felt-dark) 100%);
 color:var(--text);
}

.table{
  position:relative;
  max-width:1100px;
  margin:36px auto 80px;
  padding:24px 24px 140px;
  border-radius:30px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)) padding-box,
              radial-gradient(1200px 400px at 50% -80%, rgba(0,0,0,.3), transparent 70%) border-box;
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.08);
}

.deck-area{
  position:absolute;
  top:24px; left:24px;
  width:86px; height:122px;
  display:flex; align-items:center; justify-content:center;
  opacity:.9;
}
.card{
  width:86px; height:122px;
  border-radius:5px;
  background:#fff center/cover no-repeat;
  box-shadow: 0 6px 14px rgba(0,0,0,.45);
  transform-origin: 50% 50%;
}
.card.back{ background-image: var(--card-back-url); }

.hand{
  margin-top:52px;
}
.hand__label{
  display:flex; gap:10px; align-items:center;
  margin:0 8px 8px;
  opacity:.9;
}
.hand__score{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:44px; height:28px; padding:0 8px;
  border-radius:999px;
  background:rgba(0,0,0,.25);
  font-weight:700;
}
.hand.dealer{ margin-top:10px; }
.cards{
  display:flex; gap:14px; flex-wrap:wrap;
  min-height:132px;
}
.player-area{
  display:grid; grid-template-columns:1fr 1fr; gap:18px;
  margin-top:28px;
}
.player-area .hand{ position:relative; }
.player-area .hand.active{ outline:2px dashed rgba(255,255,255,.35); outline-offset:8px; border-radius:14px; }

.tag{
  position:absolute; top:-14px; inset-inline-start:8px;
  padding:4px 10px; border-radius:999px;
  background:rgba(0,0,0,.55);
  backdrop-filter: blur(3px);
  font-weight:700; letter-spacing:.3px;
  display:none;
}
.tag.show{ display:inline-block; }
.tag--bust{ background:var(--danger); }
.tag--blackjack{ background:linear-gradient(45deg, #f7d774, var(--gold)); color:#1a1200; }

.bet-area{
  position:absolute; left:50%; bottom:126px; transform:translateX(-50%);
  text-align:center;
}
.bet-chips{ min-height:56px; position:relative; }
.bet-amount{
  margin-top:8px; font-weight:800; letter-spacing:.5px;
  background:rgba(255,255,255,.08); display:inline-block;
  padding:6px 12px; border-radius:999px;
}

.controls{
  position:absolute; left:50%; bottom:36px; transform:translateX(-50%);
  display:flex; gap:10px; flex-wrap:wrap; justify-content:center;
}
.btn{
  padding:10px 16px; border-radius:14px; border:1px solid rgba(255,255,255,.15);
  background:rgba(0,0,0,.25); color:var(--text); cursor:pointer;
  font-weight:700; transition: var(--transition); box-shadow: var(--shadow);
}
.btn:hover{ transform:translateY(-1px); }
.btn:disabled{ opacity:var(--btn-disabled); cursor:not-allowed; filter:saturate(.6); }
.btn--primary{ background:linear-gradient(180deg, var(--accent), #1ea568); color:#062a1a; border-color:#1ea568; }
.btn--ghost{ background:rgba(255,255,255,.08); }

.chip-row{
  position:absolute; left:50%; transform:translateX(-50%);
  bottom:-70px; width:min(100%, 940px);
  display:flex; justify-content:space-between; align-items:center; gap:12px;
}
.chip-row__chips{ display:flex; gap:14px; align-items:flex-end; }
.chip{
  width:56px; height:56px; border-radius:50%;
  background: center/cover no-repeat;
  box-shadow: 0 10px 16px rgba(0,0,0,.4);
  cursor:pointer; position:relative;
}
.chip::after{
  content: attr(data-v); position:absolute; inset:auto 0 -22px 0; text-align:center;
  font-weight:800; font-size:12px; opacity:.9;
}
.chip-row__actions{ display:flex; gap:8px; align-items:center; }

.bankroll, .stats{
  position:fixed; top:16px; padding:14px 16px; border-radius:16px;
  background:rgba(0,0,0,.25); backdrop-filter: blur(4px);
  border:1px solid rgba(255,255,255,.12);
  box-shadow: var(--shadow);
}
.bankroll{ inset-inline-start:16px; }
.bankroll__title{ opacity:.9; font-size:14px; }
.bankroll__amount{ font-size:26px; font-weight:900; letter-spacing:.6px; }

.stats{ inset-inline-end:16px; width:220px; }
.stats__header, .stats__row{
  display:grid; grid-template-columns:1fr 1fr; gap:6px;
}
.stats__header{
  font-weight:900; letter-spacing:.3px; opacity:.9; margin-bottom:8px;
}
.stats__rows{ display:flex; flex-direction:column; gap:6px; min-height:268px; }
.stats__row > div{
  min-height:26px; border-radius:8px; background:rgba(255,255,255,.08);
  display:flex; align-items:center; justify-content:center; font-weight:700;
}
.stats__row .win{ background:rgba(46, 194, 126, .8); color:#052415; }
.stats__row .push{ background:rgba(255,255,255,.18); }

.toast{
  position:fixed; left:50%; top:50%; transform:translate(-50%, -50%) scale(.95);
  background:rgba(0,0,0,.75); color:#fff; padding:18px 26px; border-radius:16px;
  border:1px solid rgba(255,255,255,.15);
  box-shadow: var(--shadow); font-size:22px; font-weight:900; letter-spacing:.6px;
  transition: .3s ease; opacity:0; pointer-events:none;
}
.toast.show{ opacity:1; transform:translate(-50%, -50%) scale(1); }
.toast--win{ background:linear-gradient(180deg, rgba(46,194,126,.88), rgba(19,122,76,.88)); color:#072519; }
.toast--lose{ background:linear-gradient(180deg, rgba(255,92,92,.9), rgba(166,36,36,.9)); }
.toast--bj{ background:linear-gradient(180deg, #fce080, #c59a2e); color:#3a2a00; border-color:#b68c23;}

@keyframes deal-down{
  from{ opacity:0; transform:translateY(-40px) rotate(-6deg) scale(.9); }
  to{   opacity:1; transform:translateY(0) rotate(0)    scale(1); }
}
@keyframes deal-up{
  from{ opacity:0; transform:translateY(40px) rotate(6deg) scale(.9); }
  to{   opacity:1; transform:translateY(0) rotate(0)   scale(1); }
}
.card.deal-player{ animation: deal-up .25s ease forwards; }
.card.deal-dealer{ animation: deal-down .25s ease forwards; }

/* =========================
   מדרגות רספונסיביות מדורגות
   ========================= */

/* Large screens - 1200px and up */
@media (min-width: 1201px) {
  .table {
    margin: 48px auto 100px;
    padding: 32px 32px 160px;
  }
}

/* Medium-large screens - 993px to 1200px */
@media (max-width: 1200px) and (min-width: 993px) {
  .stats { 
    width: clamp(160px, 22vw, 200px); 
  }
  .table {
    margin: 32px auto 90px;
  }
}

/* Medium screens - 769px to 992px */
@media (max-width: 992px) and (min-width: 769px) {
  .table { 
    margin: 24px auto 80px;
    padding: 20px 20px 140px;
  }
  
  .player-area { 
    grid-template-columns: 1fr; 
    gap: 16px;
  }
  
  .bankroll, .stats { 
    position: relative;
    margin: 12px auto 0; 
    width: min(100%, 400px);
    display: block;
  }
  
  .stats {
    max-height: none;
  }
  
  .stats__rows {
    min-height: 120px;
    max-height: none;
  }
  
  body {
    padding-top: 0;
  }
}

/* Small-medium screens - 577px to 768px */
@media (max-width: 768px) and (min-width: 577px) {
  :root {
    --card-w: clamp(60px, 12vw, 76px);
    --card-h: clamp(85px, 17vw, 108px);
    --chip-size: clamp(40px, 8vw, 50px);
  }
  
  .table {
    margin: 16px auto 70px;
    padding: 16px 16px 130px;
    border-radius: 20px;
  }
  
  .controls { 
    gap: 8px; 
    width: 94vw; 
    max-width: 600px;
  }
  
  .btn { 
    flex: 1 1 auto; 
    min-width: calc(50% - 4px);
    padding: 8px 12px;
  }
  
  .chip-row { 
    width: 96%; 
    bottom: -65px; 
    max-width: 600px;
  }
  
  .chip-row__chips { 
    gap: 10px; 
  }
  
  .player-area { 
    grid-template-columns: 1fr; 
    gap: 12px;
  }
  
  .bankroll, .stats { 
    position: relative;
    margin: 8px auto 0; 
    width: min(96%, 500px);
  }
  
  .stats__rows {
    min-height: 100px;
  }
  
  .deck-area {
    top: 16px;
    left: 16px;
  }
}

/* Mobile screens - up to 576px */
@media (max-width: 576px) {
  :root {
    --card-w: clamp(45px, 14vw, 65px);
    --card-h: clamp(64px, 20vw, 92px);
    --chip-size: clamp(36px, 10vw, 46px);
  }
  
  /* Hide deck area on mobile to save space */
  .deck-area { 
    display: none; 
  }
  
  .table {
    margin: 8px auto 0;
    padding: 12px 12px 180px;
    border-radius: 16px;
    min-height: calc(100vh - 200px);
  }
  
  .hand {
    margin-top: 24px;
  }
  
  .hand.dealer {
    margin-top: 8px;
  }
  
  .player-area {
    grid-template-columns: 1fr;
    gap: 12px;
    margin-top: 16px;
  }
  
  .cards {
    gap: min(8px, 2vw);
    min-height: calc(var(--card-h) + 5px);
  }
  
  .bet-area {
    bottom: 140px;
  }
  
  /* Fixed bottom controls */
  .controls {
    position: fixed; 
    left: 50%; 
    bottom: 80px; 
    transform: translateX(-50%);
    background: rgba(0,0,0,.3);
    border: 1px solid rgba(255,255,255,.15);
    padding: 8px; 
    border-radius: 16px; 
    backdrop-filter: blur(8px);
    width: calc(100% - 16px);
    max-width: 500px;
    gap: 6px;
  }
  
  .btn { 
    flex: 1 1 45%; 
    padding: 8px 6px;
    border-radius: 10px;
    min-width: unset;
  }
  
  /* Fixed bottom chip selection */
  .chip-row {
    position: fixed; 
    bottom: 10px;
    width: calc(100% - 16px);
    max-width: 500px;
    background: rgba(0,0,0,.3);
    border: 1px solid rgba(255,255,255,.15);
    padding: 8px; 
    border-radius: 16px; 
    backdrop-filter: blur(8px);
    gap: 8px;
    flex-wrap: wrap;
  }
  
  .chip-row__chips {
    gap: 8px;
    flex: 1;
    justify-content: flex-start;
    overflow-x: auto;
    padding: 2px 0;
  }
  
  .chip-row__actions { 
    gap: 6px;
    flex-wrap: wrap;
  }
  
  .chip-row__actions .btn {
    padding: 6px 10px;
    font-size: 11px;
    min-width: 70px;
  }
  
  /* Stats toggle button for mobile */
  .stats-toggle {
    display: flex;
  }
  
  /* Hide stats by default on mobile, show when toggled */
  .stats {
    display: none;
    position: fixed;
    top: 70px;
    right: 8px;
    left: 8px;
    width: auto;
    max-height: 40vh;
    z-index: 12;
  }
  
  .stats.show-mobile {
    display: block;
  }
  
  .stats__rows {
    min-height: 80px;
    max-height: 30vh;
  }
  
  /* Bankroll stays visible but smaller */
  .bankroll {
    position: fixed;
    top: 16px;
    left: 8px;
    right: 60px;
    width: auto;
    text-align: center;
    z-index: 11;
  }
  
  .bankroll__title {
    display: inline-block;
    margin-right: 8px;
  }
  
  .bankroll__amount {
    display: inline-block;
  }
  
  /* Adjust body padding for fixed elements */
  body {
    padding-bottom: 160px;
  }
}

/* Very small screens - up to 360px */
@media (max-width: 360px) {
  :root {
    --card-w: clamp(40px, 16vw, 55px);
    --card-h: clamp(56px, 22vw, 78px);
    --chip-size: clamp(32px, 12vw, 42px);
  }
  
  .table {
    padding: 8px 8px 180px;
    margin: 4px auto 0;
  }
  
  .hand__label {
    gap: 6px;
    margin: 0 4px 6px;
  }
  
  .hand__score {
    min-width: 36px;
    height: 24px;
    padding: 0 6px;
  }
  
  .cards {
    gap: min(6px, 1.5vw);
  }
  
  .controls {
    width: calc(100% - 8px);
    padding: 6px;
    gap: 4px;
  }
  
  .btn {
    padding: 6px 4px;
    border-radius: 8px;
  }
  
  .chip-row {
    width: calc(100% - 8px);
    padding: 6px;
    gap: 6px;
  }
  
  .chip-row__chips {
    gap: 6px;
  }
  
  .chip-row__actions .btn {
    padding: 4px 6px;
    font-size: 10px;
    min-width: 60px;
  }
  
  .bankroll {
    left: 4px;
    right: 50px;
    padding: 8px 10px;
  }
  
  .stats-toggle {
    width: 38px;
    height: 38px;
    font-size: 16px;
  }
  
  .stats {
    top: 60px;
    left: 4px;
    right: 4px;
  }
}

/* Landscape mobile orientation */
@media (max-width: 896px) and (orientation: landscape) and (max-height: 500px) {
  .table {
    padding: 8px 8px 120px;
    margin: 4px auto 0;
  }
  
  .hand {
    margin-top: 16px;
  }
  
  .player-area {
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    margin-top: 12px;
  }
  
  .bet-area {
    bottom: 100px;
  }
  
  .controls {
    bottom: 60px;
    padding: 6px;
  }
  
  .chip-row {
    bottom: 8px;
    padding: 6px;
  }
  
  .stats {
    max-height: 30vh;
  }
  
  .stats__rows {
    min-height: 60px;
    max-height: 25vh;
  }
}